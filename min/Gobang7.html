<!DOCTYPE html><html lang=zh><head><meta http-equiv=Content-Type content="text/html; charset=UTF-8"><title>五子棋</title><meta name=viewport content="device-width;initial-scale=1;"><style type=text/css>#c1{display:block;margin:60px auto;box-shadow:1px 1px 5px #000}</style><script type=text/javascript>window.onload=function(){var o=document.getElementById("c1"),a=o.getContext("2d"),w=!1;a.strokeStyle="#bfbfbf";for(var r=0;r<15;r++)a.moveTo(15+30*r,15),a.lineTo(15+30*r,435),a.stroke(),a.moveTo(15,15+30*r),a.lineTo(435,15+30*r),a.stroke();for(var S=[],r=0;r<15;r++){S[r]=[];for(var f=0;f<15;f++)S[r][f]=[]}for(var h=0,r=0;r<15;r++)for(f=0;f<11;f++){for(var t=0;t<5;t++)S[r][f+t][h]=!0;h++}for(r=0;r<15;r++)for(f=0;f<11;f++){for(t=0;t<5;t++)S[f+t][r][h]=!0;h++}for(r=0;r<11;r++)for(f=0;f<11;f++){for(t=0;t<5;t++)S[r+t][f+t][h]=!0;h++}for(r=0;r<11;r++)for(f=14;3<f;f--){for(t=0;t<5;t++)S[r+t][f-t][h]=!0;h++}for(var C=[],b=[],r=0;r<h;r++)b[r]=C[r]=0;function g(o,r,f){a.beginPath(),a.arc(15+30*o,15+30*r,13,0,2*Math.PI),a.closePath();o=a.createRadialGradient(15+30*o+2,15+30*r+2,13,15+30*o+2,15+30*r+2,0);f?(o.addColorStop(0,"#0A0A0A"),o.addColorStop(1,"#636766")):(o.addColorStop(0,"#D1D1D1"),o.addColorStop(1,"#F9F9F9")),a.fillStyle=o,a.fill()}for(var k=!0,m=[],r=0;r<15;r++){m[r]=[];for(f=0;f<15;f++)m[r][f]=0}o.onclick=function(o){if(k&&!w){var r=o.offsetX,o=o.offsetY,f=Math.floor(r/30),a=Math.floor(o/30);0==m[f][a]&&(g(f,a,k),m[f][a]=1);for(var t=0;t<h;t++)S[f][a][t]&&(C[t]++,b[t]=6,5==C[t])&&(window.alert("恭喜你，获得了胜利！"),w=!0);if(!w){for(var e=[],l=[],n=0,d=0,i=0,v=0;v<15;v++){e[v]=[],l[v]=[];for(var c=0;c<15;c++)e[v][c]=0,l[v][c]=0}for(v=0;v<15;v++)for(c=0;c<15;c++)if(0==m[v][c]){for(var s=0;s<h;s++)S[v][c][s]&&(1==C[s]?e[v][c]+=200:2==C[s]?e[v][c]+=400:3==C[s]?e[v][c]+=2e3:4==C[s]&&(e[v][c]+=1e4),1==b[s]?l[v][c]+=400:2==b[s]?l[v][c]+=800:3==b[s]?l[v][c]+=2200:4==b[s]&&(l[v][c]+=2e4));e[v][c]>n?(n=e[v][c],d=v,i=c):e[v][c]==n&&l[v][c]>l[d][i]&&(d=v,i=c),l[v][c]>n?(n=l[v][c],d=v,i=c):l[v][c]==n&&e[v][c]>e[d][i]&&(d=v,i=c)}for(g(d,i,!1),m[d][i]=2,s=0;s<h;s++)S[d][i][s]&&(b[s]++,C[s]=6,5==b[s])&&(window.alert("你输啦!"),w=!0);console.log(n),k=!(k=w?k:!k)}}}}</script></head><body><canvas id=c1 width=450px height=450px></canvas></body></html>