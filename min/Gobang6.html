<!DOCTYPE html><html lang=zh><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>摸鱼小游戏 | 双人五子棋</title><style>body,html{width:100%;height:100%;margin:0;padding:0;overflow:hidden;background:#e6e7ec}body{background-color:#4a4959}#box{position:relative;margin:50px auto;width:450px;height:510px;background:#e6e7ec}#centent{position:absolute;width:430px;height:430px;border:1px solid #9e9e9e;overflow:hidden;border-radius:8px;box-shadow:0 0 5px 0 #9e9e9ed9;left:10px;top:20px}#canvas{display:block;position:absolute;background:#f7e6b7;left:-10px;top:-10px}#anew,#button,#state,#winner{position:absolute;display:block;width:40px;height:40px;border-radius:30px;outline:0;font-size:10px;box-sizing:border-box;color:#00bcd4;background:#fff;border:none;box-shadow:1px 1px 3px 1px #9e9e9e5e;top:460px;left:270px;user-select:none}#anew{left:220px}#state{left:321px;width:120px}#state .state-chess,#winner .state-chess{position:absolute;width:30px;height:30px;top:5px;left:5px}#state .chessName,#winner .chessName{position:absolute;width:60px;height:30px;top:5px;left:40px;text-align:center;line-height:30px;font-size:15px}#button:hover{transition:1s all;background:#01bcff;color:#fff}#anew:hover{transition:1s all;background:#1bb556;color:#fff}#anew:active,#button:active{transition-property:all;transition-duration:1s;transition-timing-function:ease;transition-delay:0s;transform:scale(.8)}.Bchess{position:absolute;width:27px;height:27px;border-radius:30px;background:radial-gradient(#9e9e9e -100%,#000 100%);box-shadow:1px 1px 2px 0 #0000006e;font-size:10px;line-height:27px;text-align:center;color:#fff}.Wchess{position:absolute;width:27px;height:27px;border-radius:30px;background:radial-gradient(#e4e4e4 10%,#b7aaaa);box-shadow:1px 1px 2px 0 #0000006e;font-size:10px;line-height:27px;text-align:center;color:#000}#winner{width:120px;left:12px;display:none}.page-footer{position:fixed;right:35px;bottom:20px;display:flex;align-items:center;padding:5px;color:#000;background:rgba(255,255,255,.65)}.page-footer a{display:flex;margin-left:4px}.touxiang{bottom:0;width:30px;height:30px}</style></head><body><div id=box><div id=centent><canvas id=canvas width=450 height=450></canvas></div><button id=button>撤回</button> <button id=anew>重开</button><div id=state><div class="state-chess Bchess"></div><div class=chessName>黑棋走</div></div><div id=winner><div class="state-chess Bchess"></div><div class=chessName></div></div></div><script>var game;!function(){game={centent:document.getElementById("centent"),canvas:document.getElementById("canvas"),ctx:canvas.getContext("2d"),regret_chess:document.getElementById("button"),anew:document.getElementById("anew"),state:document.getElementById("state"),sChesee:document.getElementsByClassName("state-chess")[0],cName:document.getElementsByClassName("chessName")[0],winner:document.getElementById("winner"),winChesee:this.winner.getElementsByClassName("state-chess")[0],winName:this.winner.getElementsByClassName("chessName")[0],e:0,chess_Board:[],chess_Name:["黑棋","白棋"],h:[],um:0,lianz:[],winXY:[[1,0],[0,1],[1,1],[1,-1]],chessOff:!0,computerChess:function(){},drawLine:function(){for(var e=1;e<=14;e++)game.ctx.moveTo(30*e+.5,420),game.ctx.lineTo(30*e+.5,30),game.ctx.moveTo(30,30*e+.5),game.ctx.lineTo(420,30*e+.5),game.ctx.strokeStyle="#C0A27B",game.ctx.stroke();for(e=0;e<=13;e++){game.chess_Board[e]=[],game.lianz[e]=[];for(var a=0;a<=13;a++)game.chess_Board[e][a]=0,game.lianz[e][a]=0}},canvasClick:function(e){var a=parseInt(Math.floor(e.offsetX+15)/30),s=parseInt(Math.floor(e.offsetY+15)/30),m={ox:30*a-25,oy:30*s-25,mz:game.chess_Name[game.e%2],dm:document.createElement("div"),"class":game.e%2==1?"Wchess":"Bchess",list:game.um++};a<1||a>14|s<1||s>14||0==game.chess_Board[a-1][s-1]&&(game.h.push(m),m.dm.classList.add(m["class"]),m.dm.style.left=m.ox+"px",m.dm.style.top=m.oy+"px",game.chess_Board[a-1][s-1]=game.chess_Name[game.e%2],game.lianz[a-1][s-1]=m.dm,game.win(a-1,s-1,game.chess_Name[game.e%2],game.winXY[0],game.e%2),game.win(a-1,s-1,game.chess_Name[game.e%2],game.winXY[1],game.e%2),game.win(a-1,s-1,game.chess_Name[game.e%2],game.winXY[2],game.e%2),game.win(a-1,s-1,game.chess_Name[game.e%2],game.winXY[3],game.e%2),game.cName.innerText=game.e%2==0?game.chess_Name[1]+"走":game.chess_Name[0]+"走",game.sChesee.className=game.e%2==1?"state-chess Bchess":"state-chess Wchess",game.e++,game.centent.appendChild(m.dm))},regret:function(e){if(game.chessOff&&game.h.length>0){var a=game.h.pop();a.dm.remove(),game.cName.innerText=game.e%2==0?game.chess_Name[1]+"走":game.chess_Name[0]+"走",game.sChesee.className=game.e%2==1?"state-chess Bchess":"state-chess Wchess",game.e-=1,game.um-=1,game.chess_Board[parseInt(a.ox/30)][parseInt(a.oy/30)]=0}},anewClick:function(e){game.h.forEach((function(e,a){e.dm.remove(),game.h=[],game.um=0,game.chessOff=!0}));for(var a=0;a<=13;a++){game.chess_Board[a]=[],game.lianz[a]=[];for(var s=0;s<=13;s++)game.chess_Board[a][s]=0,game.lianz[a][s]=0}game.winName.innerText=" ",game.winner.style.display="none",game.regret_chess.style.background="",game.regret_chess.style.color=""},win:function(e,a,s,m,t){for(var n=1,c=[],g=1;g<5;g++)if(game.chess_Board[e+g*m[0]]){if(game.chess_Board[e+g*m[0]][a+g*m[1]]!==s)break;c.push([e+g*m[0],a+g*m[1]]),n++}for(var r=1;r<5;r++)if(game.chess_Board[e-r*m[0]]){if(game.chess_Board[e-r*m[0]][a-r*m[1]]!==s)break;c.push([e-r*m[0],a-r*m[1]]),n++}if(n>=5){setTimeout((function(){}),600),c.push([e,a]),game.chessOff=!1,game.regret_chess.style.background="#d0cdcd",game.regret_chess.style.color="#505050";var o=[270,300,330,360,390],h=[390,420,450,480,510];c.forEach((function(e,a){var s=setInterval((function(){game.lianz[e[0]][e[1]].style.transform="scale(0.9)",game.lianz[e[0]][e[1]].style.boxShadow="0px 0px 2px 2px #ffd507",clearInterval(s)}),o[a]),m=setInterval((function(){game.lianz[e[0]][e[1]].style.transform="scale(1)",game.lianz[e[0]][e[1]].style.boxShadow="0px 0px 2px 2px #ffd507",clearInterval(m)}),h[a])}));for(var l=0;l<game.chess_Board.length;l++)for(var i=0;i<game.chess_Board.length;i++)0===game.chess_Board[l][i]&&(game.chess_Board[l][i]="null");game.h.forEach((function(e,a){e.dm.innerText=e.list})),game.winChesee.className=1==t?"state-chess Wchess":"state-chess Bchess",game.winName.innerText=s+"赢了",this.winner.style.display="block"}}}}();</script><script>game.drawLine(),game.canvas.addEventListener("mousedown",game.canvasClick),game.regret_chess.addEventListener("mousedown",game.regret),game.anew.addEventListener("mousedown",game.anewClick);</script></body></html>