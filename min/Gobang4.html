<!DOCTYPE html><html lang=zh><head><meta charset=utf-8><title>五子棋</title><style>canvas{display:block;margin:50px auto;box-shadow:-2px -2px 2px #efefef,5px 5px 5px #b9b9b9;color:#fff}</style></head><body><canvas id=go width=450px height=450px></canvas><script type=text/javascript>var context=(gobang=document.getElementById("go")).getContext("2d");context.strokeStyle="#000";var logo=new Image;logo.src="data:image/jpeg;base64,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",logo.onload=function(){context.drawImage(logo,0,0,450,450),drawChessBoard()};var drawChessBoard=function(){for(var o=0;o<15;o++)context.moveTo(15+30*o,15),context.lineTo(15+30*o,435),context.stroke(),context.moveTo(15,15+30*o),context.lineTo(435,15+30*o),context.stroke()},oneStep=function(o,A,n){context.beginPath(),context.arc(15+30*o,15+30*A,13,0,2*Math.PI),context.closePath();var a=context.createRadialGradient(15+30*o+2,15+30*A-2,13,15+30*o+2,15+30*A-2,0);n?(a.addColorStop(0,"#0A0A0A"),a.addColorStop(1,"#636766")):(a.addColorStop(0,"#D1D1D1"),a.addColorStop(1,"#F9F9F9")),context.fillStyle=a,context.fill()},GobangBoard=[];gobang.onclick=function(o){if(!over&&gobang){var A=o.offsetX,n=o.offsetY,a=Math.floor(A/30),f=Math.floor(n/30);if(0==GobangBoard[a][f]){oneStep(a,f,gobang),GobangBoard[a][f]=1;for(var i=0;i<count;i++)wins[a][f][i]&&(myWin[i]++,computerWin[i]=6,5==myWin[i]&&(window.alert("你赢了！"),over=!0));over||(gobang=!gobang,computerAI())}}};for(var gobang=!0,over=!1,wins=[],myWin=[],computerWin=[],i=0;i<15;i++){GobangBoard[i]=[];for(var j=0;j<15;j++)GobangBoard[i][j]=0}for(i=0;i<15;i++){wins[i]=[];for(j=0;j<15;j++)wins[i][j]=[]}var count=0;for(i=0;i<15;i++)for(j=0;j<11;j++){for(var k=0;k<5;k++)wins[i][j+k][count]=!0;count++}for(i=0;i<15;i++)for(j=0;j<11;j++){for(k=0;k<5;k++)wins[j+k][i][count]=!0;count++}for(i=0;i<11;i++)for(j=0;j<11;j++){for(k=0;k<5;k++)wins[i+k][j+k][count]=!0;count++}for(i=0;i<11;i++)for(j=14;j>3;j--){for(k=0;k<5;k++)wins[i+k][j-k][count]=!0;count++}for(i=0;i<count;i++)myWin[i]=0,computerWin[i]=0;var computerAI=function(){for(var o=[],A=[],n=0,a=0,f=0,i=0;i<15;i++){o[i]=[],A[i]=[];for(var t=0;t<15;t++)o[i][t]=0,A[i][t]=0}for(i=0;i<15;i++)for(t=0;t<15;t++)if(0==GobangBoard[i][t]){for(var e=0;e<count;e++)wins[i][t][e]&&(1==myWin[e]?o[i][t]+=200:2==myWin[e]?o[i][t]+=400:3==myWin[e]?o[i][t]+=2e3:4==myWin[e]&&(o[i][t]+=1e4),1==computerWin[e]?A[i][t]+=220:2==computerWin[e]?A[i][t]+=420:3==computerWin[e]?A[i][t]+=2100:4==computerWin[e]&&(A[i][t]+=2e4));o[i][t]>n?(n=o[i][t],a=i,f=t):o[i][t]==n&&A[i][t]>A[a][f]&&(a=i,f=t),A[i][t]>n?(n=A[i][t],a=i,f=t):A[i][t]==n&&o[i][t]>o[a][f]&&(a=i,f=t)}oneStep(a,f,!1),GobangBoard[a][f]=2;for(e=0;e<count;e++)wins[a][f][e]&&(computerWin[e]++,myWin[e]=6,5==computerWin[e]&&(window.alert("程序赢了！"),over=!0));over||(gobang=!gobang)};</script></body></html>